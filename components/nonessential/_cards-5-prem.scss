// VARIABLES
$card-img-width-value: 1000; // omit unit from value
$card-img-height-value: 620; // omit unit from value
$card-text-box-max-width-with-LR-padding: 500px;
$cards-stack-max-breakpoint: 991px;

// CARD PANELS v5 
.card-panels.opt5-prem {
    padding: 0 0 5rem;
    &.bg-pattern {
        //background-image: url(images/tile_pattern_bg.jpg);
        //padding: 55px 0 7rem;
        @media (max-width:$cards-stack-max-breakpoint) {
            //padding-bottom: 5rem;
        }
    }
    .card {
        margin: 0 auto 70px;
        max-width: 1600px;
        border: none;
        padding: 0 5rem 0 0;
        background-color: transparent;
        @media (max-width:1199px) {
            //margin-bottom: 50px;
            padding-right: 2rem;            
        }
        @media (max-width:$cards-stack-max-breakpoint) {
            margin-bottom: 50px;
            padding: 0 2rem;
        }
        &:last-child {
            margin-bottom: 0;
        }
        .clickToEditDiv {
            font-size: 0;
            &:after {                
                vertical-align: middle;
            }
        }        
        .row {
            margin-left: 0;
            margin-right: 0;
            justify-content: center;
            align-items: center;
            flex-wrap: nowrap;
            @media (max-width:$cards-stack-max-breakpoint) {
                flex-wrap: wrap;
            }
        }
        .card-bg-img {
            max-width: calc(#{$card-img-width-value}px);
            flex: 1 3 calc(#{$card-img-width-value}px);
            //padding: 0 20px 0 20px;
            position: relative;
            z-index: 1;
            order: 1;
            @media (max-width:1199px) {
                padding-left: 0;
                @media (min-width:992px) {
                    max-width: 55%;
                }
            }
            @media (max-width:$cards-stack-max-breakpoint) {
                order: 0;
                padding: 0;
            }
            .mpContent {
                height: auto;
                background-size: cover;
                background-repeat: no-repeat;
                background-position: center center;
                position: relative;
                box-shadow: none;
                @media (max-width:$cards-stack-max-breakpoint) {
                    height: auto;
                    order: 0;
                }
                h2 {
                    color: $color-secondary;
                }
                &:after {
                    position: absolute;
                    content: '';
                    top: 20px;
                    left: 20px;
                    width: 100%;
                    height: 100%;
                    background-color: #78cec1;
                    z-index: -1;
                    display: none;
                    @media (max-width:$cards-stack-max-breakpoint) {
                        content: none;
                    }
                }
                img {
                    visibility: hidden;
                }
            }
            .clickToEditDiv:after {
                content: '(image)';
            }
        }
        .card-text {
            flex-basis: $card-text-box-max-width-with-LR-padding;
            align-self: stretch;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 2;
            @media (max-width:1024px) {
                //padding: 3rem;
            }
            @media (max-width:$cards-stack-max-breakpoint) {
                flex-basis: 100%;
                margin-top: 0;
                //padding: 30px 15px 0;
            }
            .mpContent {
                padding: 7.2rem 9.5rem;
                background: $white;
                box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.1);
                position: relative;
                right: -7rem;
                z-index: 2;
                max-width: 500px;
                width: 100%;
                @media (max-width:1199px) {
                    right: -2rem;
                }
                @media (max-width:$cards-stack-max-breakpoint) {
                    right: auto !important;
                    left: auto !important;
                    max-width: none;
                    padding: 3rem 2rem;
                }
                h2 {
                    color: $color-secondary;
                }
                span[class*="icon"] {
                    color: $color-tertiary;
                    font-size: 5rem;
                    margin-left: 0;
                    margin-bottom: 2rem;
                }
                > a, p > a:last-child {
                    color: #018922;
                    text-decoration: none;
                    &:hover {
                        text-decoration: underline;
                    }
                }
            }
            .clickToEditDiv:after {
                content: '(text)';
            }
        }
        &:nth-child(even), &:only-child {
            padding: 0 0 0 5rem;
            @media (max-width:1199px) {
                padding-left: 2rem;
            }
            @media (max-width:$cards-stack-max-breakpoint) {
                padding: 0 2rem;
            }
            .card-bg-img {
                order: 0;
                               
            }
            .card-text {
                .mpContent {
                    right: auto;
                    left: -12.5rem;
                    @media (max-width:1199px) {
                        left: -2rem;
                    }
                }
            }
        }
        &:only-child {
            .card-text {
                .mpContent {                    
                    @media (min-width:992px) {
                        //padding-top: 7.2rem;
                        h3 {
                            margin-bottom: 1.5rem;
                        }
                    }                    
                }
            }
        }
        &.has-empty-column {
            .row {
                align-items: center;
            }
            .clickToEditDiv:after {
                font-size: 1rem;
            }
        }
    }
}